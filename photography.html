---
layout: null
permalink: /photography/
redirect_from:
  - /photography.html
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Automotive photography in Idaho ‚Äî stills, rollers, night, and detail shots. Book enthusiast-grade photos for your ride." />
  <meta name="keywords" content="Idaho car photography, Boise rollers, car photoshoot, automotive photography, Treasure Valley" />
  <title>Automotive Photography ‚Äî Cars & Collectibles</title>

<script>
(function () {
  // --- 0) Normalize /photography -> /photography/ and PRESERVE any hash ---
  if (location.pathname === '/photography') {
    var dest = '/photography/';
    if (location.hash) dest += location.hash;
    location.replace(dest);
    return;
  }

  // --- 1) PROD-ONLY BASE TAG ---
  const PROD_HOSTS = new Set(['carsandcollectibles.com', 'www.carsandcollectibles.com']);
  const isGhPages  = /\.github\.io$/i.test(location.hostname);
  const isProd     = PROD_HOSTS.has(location.hostname) || isGhPages;

  if (isProd && !document.querySelector('base')) {
    const base = document.createElement('base');
    base.href = '/';
    document.head.prepend(base);
  }

  // --- 2) HASH-LINK BEHAVIOR UNDER <base> ---
  function getCanonicalPath() {
    const p = location.pathname;
    if (p === '/') return '/';
    return /\.[a-z0-9]+$/i.test(p) ? p : (p.endsWith('/') ? p : p + '/');
  }

  function normalizeHashHrefs() {
    const path = getCanonicalPath();
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      const hash = a.getAttribute('href');
      a.setAttribute('href', path + hash);
    });
  }

  function installHashClickHandler() {
    document.addEventListener('click', function (e) {
      const a = e.target.closest('a');
      if (!a) return;

      const href = a.getAttribute('href') || '';
      const path = getCanonicalPath();

      const isSamePageHash =
        href === '#' ||
        href.startsWith('#') ||
        href.startsWith(path + '#');

      if (!isSamePageHash) return;

      e.preventDefault();

      const hash = href.includes('#') ? href.slice(href.indexOf('#') + 1) : '';
      if (!hash) return;

      const target = document.getElementById(hash) || document.querySelector(`[name="${CSS.escape(hash)}"]`);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        if (!target.hasAttribute('tabindex')) target.setAttribute('tabindex', '-1');
        target.focus({ preventScroll: true });
      }

      const newUrl = path + '#' + hash;
      if (location.href !== location.origin + newUrl) {
        history.pushState(null, '', newUrl);
      }
    }, { capture: true });
  }

  document.addEventListener('DOMContentLoaded', function () {
    normalizeHashHrefs();
    installHashClickHandler();
  });
})();
</script>

  <!-- Tailwind -->
  <link rel="stylesheet" href="dist/tailwind.css">

  <style>
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    .fade-in-up { animation: fadeInUp 1s ease-out forwards; opacity: 0; }

    body { background-color: #0b0b0b; }
    .bg-fallback { background: linear-gradient(135deg, #0f0f0f, #1a1a1a); }

    @keyframes heroPan {
      0%   { transform: scale(1.04) translateY(0); }
      50%  { transform: scale(1.08) translateY(-8px); }
      100% { transform: scale(1.04) translateY(0); }
    }
    .animate-hero-pan { animation: heroPan 22s ease-in-out infinite; }

    .title-gradient {
      background: linear-gradient(90deg,#bfdbfe 0%,#60a5fa 25%,#34d399 50%,#22c55e 75%,#a7f3d0 100%);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: titleGradientSlide 8s ease-in-out infinite;
    }
    @keyframes titleGradientSlide {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @media (prefers-reduced-motion: reduce) {
      .animate-hero-pan, .fade-in-up, .title-gradient { animation: none !important; transition: none !important; }
    }

    /* Mobile-only text adjustments */
    @media (max-width: 640px) {
      body { color: black !important; }
      body *:not(.title-gradient) { color: black !important; }
      #package-details { display: none !important; }
      input::placeholder, textarea::placeholder { color: black !important; opacity: .7; }
    }

    /* Coming-soon badge */
    .badge {
      display:inline-block; padding:.25rem .5rem; border-radius:999px;
      font-size:.70rem; letter-spacing:.03em;
      background: rgba(234,179,8,.15); border:1px solid rgba(234,179,8,.35); color:#fde68a;
    }
  </style>

  <style>
  /* Dark native select menu */
  #book select[name="package"] { color-scheme: dark; color:#fff; background-color: rgba(255,255,255,0.05); }
  #book select[name="package"] option { color:#111827; background:#fff; }
  @media (forced-colors: active) {
    #book select[name="package"] option { forced-color-adjust: none; color: ButtonText; background: Canvas; }
  }
  </style>
</head>
<body class="text-white font-sans min-h-screen flex flex-col relative overflow-x-hidden bg-fallback">

  <!-- Fixed background image layer -->
  <div style="background-image: url('images/hero-car.jpg');"
       class="pointer-events-none fixed inset-0 bg-cover bg-center opacity-60 blur-sm -z-10 animate-hero-pan"></div>

  <!-- Fixed overlays -->
  <div class="pointer-events-none fixed inset-0 -z-10">
    <div class="absolute inset-0 bg-gradient-to-b from-white/24 via-white/16 to-white/10"></div>
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(0,0,0,0)_0%,rgba(0,0,0,0.04)_65%,rgba(0,0,0,0.12)_100%)]"></div>
    <div class="absolute inset-0 mix-blend-overlay" style="
         opacity:.01;
         background-image:url('data:image/svg+xml;utf8,\
         <svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2248%22 height=%2248%22>\
           <filter id=%22n%22><feTurbulence type=%22fractalNoise%22 baseFrequency=%220.8%22 numOctaves=%222%22/></filter>\
           <rect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23n)%22 opacity=%220.25%22/>\
         </svg>');
         background-size:200px 200px;"></div>
  </div>

  <main class="flex-1 w-full max-w-6xl mx-auto px-6 pt-12 text-center fade-in-up">
    <a href="index.html" class="inline-block mb-6 text-emerald-300 hover:text-emerald-400 text-lg underline">
      ‚Üê Back to Home
    </a>

<!-- Hero -->
<section class="max-w-6xl mx-auto w-full mt-8 px-6">
  <div class="bg-white/10 backdrop-blur border border-white/20 rounded-2xl shadow-xl p-6 md:p-8 text-center">
    <h1 class="text-3xl sm:text-4xl md:text-6xl font-extrabold uppercase tracking-tight md:tracking-widest leading-tight break-words mb-3">
      <span class="title-gradient">Automotive Photography</span>
    </h1>
    <div class="mx-auto mb-6 h-1.5 w-28 rounded-full
                bg-gradient-to-r from-sky-500 via-emerald-500 to-green-400
                shadow-[0_0_24px_rgba(16,185,129,0.35)]"></div>

    <p class="text-gray-200 text-lg sm:text-xl md:text-2xl mb-2">From clean stills to cinematic rollers</p>
    <p class="text-gray-300 text-base md:text-lg mb-6">
      The premier choice for automotive photography in Idaho.
    </p>
    <div class="flex flex-wrap justify-center gap-4">
      <a href="#packages"
         class="inline-flex items-center justify-center rounded-full px-8 py-4
                text-base md:text-lg font-semibold text-white
                bg-white/10 backdrop-blur border border-white/20
                hover:bg-emerald-600/20 hover:border-emerald-500/50
                transition-all duration-200 hover:-translate-y-0.5
                focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black">
        See Packages
      </a>
      <a href="gallery.html"
         class="inline-flex items-center justify-center rounded-full px-8 py-4
                text-base md:text-lg font-semibold text-white
                bg-white/10 backdrop-blur border border-white/20
                hover:bg-emerald-600/20 hover:border-emerald-500/50
                transition-all duration-200 hover:-translate-y-0.5
                focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black">
        See Portfolio
      </a>
      <a href="#book"
         class="inline-flex items-center justify-center rounded-full px-8 py-4
                text-base md:text-lg font-semibold text-white
                bg-white/10 backdrop-blur border border-white/20
                hover:bg-emerald-600/20 hover:border-emerald-500/50
                transition-all duration-200 hover:-translate-y-0.5
                focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 focus-visible:ring-offset-2 focus-visible:ring-offset-black">
        Book Now
      </a>
    </div>
  </div>
</section>

<!-- Promo banner -->
<section class="max-w-6xl mx-auto w-full mt-4 px-6">
  <div id="promo-banner" class="bg-green-600/90 backdrop-blur border border-green-400/30 rounded-2xl shadow-lg px-6 py-4">
    <div class="text-2xl font-extrabold text-white">üöó Enthusiast Pricing ‚Äî Limited Time</div>
    <p class="text-sm mt-1 text-green-100">
      Special offer ‚Äî secure your session before prices hit full throttle.
    </p>
    <div id="promo-countdown" class="mt-2 text-sm font-semibold text-white/90"></div>
  </div>
</section>

<!-- Packages -->
<section id="packages" class="max-w-6xl mx-auto w-full mt-4 px-6">
  <div class="bg-white/10 backdrop-blur border border-white/20 rounded-2xl shadow-xl p-6 md:p-8 text-left">
    <h2 class="text-3xl font-extrabold mb-6 text-center md:text-left">Packages</h2>

    <div id="package-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Mini (NEW) -->
      <button type="button"
              class="package-card rounded-2xl bg-white/10 backdrop-blur border border-white/20 p-6 text-left transition hover:bg-white/15"
              data-package="mini" aria-pressed="false">
        <h3 class="text-xl font-bold mb-2">Mini Session</h3>
        <p class="text-gray-300 mb-4">5‚Äì8 edited photos.</p>
        <div class="text-3xl font-extrabold"></div>
      </button>

      <!-- Still -->
      <button type="button"
              class="package-card rounded-2xl bg-white/10 backdrop-blur border border-white/20 p-6 text-left transition hover:bg-white/15"
              data-package="still" aria-pressed="false">
        <h3 class="text-xl font-bold mb-2">Still Session</h3>
        <p class="text-gray-300 mb-4">12‚Äì18 edited photos.</p>
        <div class="text-3xl font-extrabold"></div>
      </button>

      <!-- Roller (COMING SOON) ‚Äî not interactive -->
      <div class="rounded-2xl bg-white/10 backdrop-blur border border-white/20 p-6 text-left opacity-80">
        <div class="badge mb-1">Coming Soon</div>
        <h3 class="text-xl font-bold mb-2">Roller Session</h3>
        <p class="text-gray-300 mb-2">Cinematic motion shots.</p>
      </div>

      <!-- Full Feature (COMING SOON) ‚Äî not interactive -->
      <div class="rounded-2xl bg-white/10 backdrop-blur border border-white/20 p-6 text-left opacity-80">
        <div class="badge mb-1">Coming Soon</div>
        <h3 class="text-xl font-bold mb-2">Full Feature</h3>
        <p class="text-gray-300 mb-2">Stills + rollers in one package.</p>
      </div>
    </div>

    <!-- Details panel -->
    <div id="package-details" class="mt-8 hidden rounded-2xl bg-white/10 backdrop-blur border border-white/20 p-6 shadow-lg"></div>

    <p class="mt-2 text-emerald-300 text-sm font-semibold">
      üéØ Offer valid for a limited time ‚Äî spots are filling fast!
    </p>
  </div>
</section>

<!-- Add-ons -->
<section id="addons" class="max-w-6xl mx-auto w-full mt-4 px-6">
  <div class="bg-white/10 backdrop-blur border border-white/20 rounded-2xl shadow-xl p-6 md:p-8 text-left">
    <h2 class="text-3xl font-extrabold mb-2 text-center md:text-left">Add-ons</h2>
    <p class="text-emerald-300 font-semibold mb-6">
      Email delivery is always <strong>free</strong>. High-resolution, print-ready files included.
    </p>

    <div id="addon-grid" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="addon-card rounded-2xl bg-white/10 border border-white/20 p-5 cursor-pointer transition hover:bg-white/15 focus:outline-none"
        data-addon="usb_drive" role="button" tabindex="0" aria-pressed="false">
        <div class="flex items-center">
          <h3 class="text-lg font-bold">USB Drive</h3>
          <span class="ml-6 inline-flex items-center rounded-full border border-emerald-400 px-4 py-1 text-sm font-extrabold text-emerald-300">$20</span>
        </div>
        <p class="text-gray-300 text-sm mt-3">Photos delivered on a USB drive.</p>
      </div>

      <div class="addon-card rounded-2xl bg-white/10 border border-white/20 p-5 cursor-pointer transition hover:bg-white/15 focus:outline-none"
        data-addon="cd_dvd" role="button" tabindex="0" aria-pressed="false">
        <div class="flex items-center">
          <h3 class="text-lg font-bold">CD / DVD</h3>
          <span class="ml-6 inline-flex items-center rounded-full border border-emerald-400 px-4 py-1 text-sm font-extrabold text-emerald-300">$10</span>
        </div>
        <p class="text-gray-300 text-sm mt-3">Photos delivered on a disc.</p>
      </div>
    </div>

    <p class="text-xs text-gray-400 mt-4">
      Prints and posters can be arranged separately after your shoot if desired.
    </p>
  </div>
</section>

<!-- Booking -->
<section id="book" class="max-w-6xl mx-auto w-full mt-4 px-6">
  <div class="bg-white/10 backdrop-blur border border-white/20 rounded-2xl shadow-xl p-6 md:p-8 text-left">
    <h2 class="text-3xl font-extrabold mb-6 text-center md:text-left">Book a Session</h2>
    <form id="booking-form" class="grid gap-4" method="post" data-endpoint="https://photography-contact.profit-alerts.workers.dev" novalidate>
      <div class="hidden"><label>Do not fill<input type="text" name="website" autocomplete="off" tabindex="-1" /></label></div>

      <label class="block">Name
        <input class="mt-1 w-full rounded-xl bg-white/5 border border-white/20 px-3 py-2 text-white placeholder:text-gray-400 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/40" name="name" required />
      </label>

      <label class="block">Email
        <input type="email" class="mt-1 w-full rounded-xl bg-white/5 border border-white/20 px-3 py-2 text-white placeholder:text-gray-400 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/40" name="email" required />
      </label>

      <label class="block">Vehicle
        <input class="mt-1 w-full rounded-xl bg-white/5 border border-white/20 px-3 py-2 text-white placeholder:text-gray-400 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/40" name="car" placeholder="Year Make Model" />
      </label>

      <label class="block">Package
        <select class="mt-1 w-full rounded-xl bg-white/5 border border-white/20 px-3 py-2 text-white outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/40" name="package">
          <option>Mini Session</option>
          <option>Still Session</option>
          <option disabled>Roller Session (Coming Soon)</option>
          <option disabled>Full Feature (Coming Soon)</option>
        </select>
      </label>

      <label class="block">Message
        <textarea rows="4" class="mt-1 w-full rounded-xl bg-white/5 border border-white/20 px-3 py-2 text-white placeholder:text-gray-400 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/40" name="message" placeholder="Preferred dates, location, references‚Ä¶"></textarea>
      </label>

      <!-- Add-ons -->
      <fieldset class="grid gap-2">
        <legend class="font-semibold">Add-ons (optional)</legend>

        <label class="flex items-center gap-2">
          <input type="checkbox" name="addons" value="usb_drive" class="rounded bg-white/5 border-white/30">
          <span>USB Drive ‚Äî $20</span>
        </label>

        <label class="flex items-center gap-2">
          <input type="checkbox" name="addons" value="cd_dvd" class="rounded bg-white/5 border-white/30">
          <span>CD / DVD ‚Äî $10</span>
        </label>
      </fieldset>

      <p class="text-sm text-emerald-300 -mb-2">Email delivery is always free. Files are print-ready.</p>
      <p class="text-sm text-emerald-300 -mb-2">Sessions are reserved with a $50 booking deposit (applied to your balance). Flexible rescheduling with 48 hours‚Äô notice.</p>

      <div id="total-cost" class="text-lg font-bold text-emerald-300 mt-4">Total: $0</div>

      <button type="submit"
              class="inline-flex items-center justify-center rounded-full px-8 py-3 text-lg font-semibold
                     text-white bg-white/10 backdrop-blur border border-white/20
                     hover:bg-emerald-600/20 hover:border-emerald-500/50 transition-all duration-200 hover:-translate-y-0.5">
        Send Request
      </button>
      <p id="form-status" class="text-sm text-gray-300" hidden>Sending‚Ä¶</p>
    </form>
  </div>
</section>

  </main>

  <footer class="mt-20 py-6 text-sm text-gray-300 text-center">¬© 2025 Cars & Collectibles LLC. All rights reserved.</footer>

  <!-- Booking form total (quick calc) -->
  <script>
(function () {
  const form   = document.getElementById('booking-form');
  if (!form) return;

  const totalEl = document.getElementById('total-cost');
  const usbCb   = form.querySelector('input[value="usb_drive"]');
  const cdCb    = form.querySelector('input[value="cd_dvd"]');
  const pkgSel  = form.querySelector('select[name="package"]');

  const ADDON_PRICES = { usb_drive: 20, cd_dvd: 10 };

  function getPackageKey() {
    if (!pkgSel) return null;
    const t = (pkgSel.options[pkgSel.selectedIndex]?.textContent || '').toLowerCase();
    if (t.includes('mini'))  return 'mini';
    if (t.includes('still')) return 'still';
    return null;
  }

  function getPackagePrice() {
    const api = window.PHOTO_PRICING;
    const k = getPackageKey();
    return api && k ? api.getPrice(k) : 0;
  }

  function getAddonsTotal() {
    let total = 0;
    if (usbCb?.checked) total += ADDON_PRICES.usb_drive;
    if (cdCb?.checked)  total += ADDON_PRICES.cd_dvd;
    return total;
  }

  function updateTotal() {
    const grand = getPackagePrice() + getAddonsTotal();
    if (totalEl) totalEl.textContent = `Total: $${grand}`;
  }

  [usbCb, cdCb, pkgSel].forEach(el => el && el.addEventListener('change', updateTotal));
  updateTotal();
})();
</script>

<!-- Booking submit -->
<script>
(function () {
  const form = document.getElementById('booking-form');
  if (!form) return;

  const statusEl  = document.getElementById('form-status');
  const submitBtn = form.querySelector('button[type="submit"]');
  const endpoint  = form.getAttribute('data-endpoint') || '/api/contact';

  const nameEl  = form.querySelector('input[name="name"]');
  const emailEl = form.querySelector('input[type="email"][name="email"]');
  const hpEl    = form.querySelector('input[name="website"]');

  function setStatus(msg, cls) {
    if (!statusEl) return;
    statusEl.textContent = msg;
    statusEl.hidden = false;
    statusEl.className = 'text-sm ' + (cls || 'text-gray-300');
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    if (hpEl && hpEl.value && hpEl.value.trim() !== '') {
      setStatus("Thanks! We'll be in touch shortly.", 'text-emerald-300');
      form.reset();
      return;
    }

    const name  = nameEl ? String(nameEl.value || '').trim() : '';
    const email = emailEl ? String(emailEl.value || '').trim() : '';
    const emailLooksGood = emailEl ? (emailEl.value = email, emailEl.checkValidity()) : false;
    const nameLooksGood  = name.length > 0;

    if (!nameLooksGood || !emailLooksGood) {
      setStatus('Please provide your name and a valid email.', 'text-red-400');
      return;
    }

    const fd = new FormData(form);
    const data = {};
    for (const [k, v] of fd.entries()) {
      if (k === 'addons') continue;
      if (data[k] === undefined) data[k] = v;
    }
    const addons = fd.getAll('addons');
    if (addons.length) data.addons = addons;

    data.name = name;
    data.email = email;

    setStatus('Sending‚Ä¶', 'text-gray-300');
    if (submitBtn) { submitBtn.disabled = true; submitBtn.classList.add('opacity-70','cursor-not-allowed'); }

    try {
      const res = await fetch(endpoint, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ source: 'photography', payload: data }),
      });

      if (!res.ok) throw new Error(`Request failed: ${res.status}`);
      setStatus("Thanks! We'll get back to you shortly.", 'text-emerald-300');
      form.reset();
    } catch (err) {
      console.error('Booking form error:', err);
      setStatus('Something went wrong. Please try again in a minute.', 'text-red-400');
    } finally {
      if (submitBtn) { submitBtn.disabled = false; submitBtn.classList.remove('opacity-70','cursor-not-allowed'); }
    }
  });
})();
</script>

<!-- Card logic, pricing, countdown -->
<script>
(function () {
  const cards         = Array.from(document.querySelectorAll(".package-card")); // only interactive cards
  const panel         = document.getElementById("package-details");
  const banner        = document.getElementById("promo-banner");
  const countdownEl   = document.getElementById("promo-countdown");
  const packageSelect = document.querySelector('select[name="package"]');

  // ====== EDIT THESE PRICES ONLY ======
  const LIST = { mini: 100, still: 150, roller: 200, feature: 300 }; // roller/feature shown as Coming Soon
  const PROMO_END_ISO = '2025-10-15T23:59:59';
  const PROMO_ACTIVE  = Date.now() < new Date(PROMO_END_ISO).getTime();
  const PROMO_PER_PACKAGE = { mini: 50, still: 100, roller: 180, feature: 250 };
  const PROMO_PERCENT = 0;

  function computePromoPrice(key) {
    if (!PROMO_ACTIVE) return null;
    if (PROMO_PER_PACKAGE && Number.isFinite(PROMO_PER_PACKAGE[key])) {
      return Math.max(0, Math.round(PROMO_PER_PACKAGE[key]));
    }
    if (PROMO_PERCENT > 0) {
      const discounted = LIST[key] * (1 - PROMO_PERCENT / 100);
      return Math.max(0, Math.round(discounted));
    }
    return null;
  }

  window.PHOTO_PRICING = {
    promoActive: PROMO_ACTIVE,
    getPrice(key) {
      const promo = computePromoPrice(key);
      return Number.isFinite(promo) ? promo : LIST[key] || 0;
    },
    getListPrice(key) { return LIST[key] || 0; },
    getSavingsPct(key) {
      const list = LIST[key] || 0;
      const now  = this.getPrice(key);
      if (!list || now >= list) return 0;
      return Math.round(((list - now) / list) * 100);
    }
  };

  const detailsData = {
    mini: {
      name: "Mini Session",
      bullets: [
        "<strong>5‚Äì8 edited photos</strong> (web + print-ready files)",
        "Delivery in <strong>3‚Äì5 days</strong> via <strong>free email</strong>",
		"1 Location (each additional $50)"
      ],
      blurb: "Perfect quick-hit shoot for clean coverage without a full session."
    },
    still: {
      name: "Still Session",
      bullets: [
        "<strong>12‚Äì18 edited photos</strong> (web + print-ready files)",
        "Delivery in <strong>3‚Äì5 days</strong> via <strong>free email</strong>",
		"1 Location (each additional $50)"
      ],
      blurb: "Great for feature shots, listings, or garage portraits."
    }
  };

  function priceHTML(key) {
    const list    = window.PHOTO_PRICING.getListPrice(key);
    const current = window.PHOTO_PRICING.getPrice(key);
    const savePct = window.PHOTO_PRICING.getSavingsPct(key);

    if (current < list) {
      return `
        <div class="mt-3 text-2xl font-extrabold">
          <span class="line-through decoration-4 decoration-red-500 text-white/90">$${list}</span>
          <span class="ml-3 text-emerald-400">$${current}</span>
          <span class="ml-2 text-xs text-emerald-300 align-middle">Save ${savePct}%</span>
        </div>`;
    }
    return `
      <div class="mt-3 text-2xl font-extrabold">
        $${list}
        <span class="ml-2 text-xs text-gray-400 align-middle">Standard</span>
      </div>`;
  }

  function labelForSelect(key) {
    const dname = detailsData[key].name;
    const list  = window.PHOTO_PRICING.getListPrice(key);
    const cur   = window.PHOTO_PRICING.getPrice(key);
    return (cur < list) ? `${dname} ‚Äî $${cur} (Enthusiast Pricing)` : `${dname} ‚Äî $${list}`;
  }

  function initCardPrices() {
    cards.forEach(card => {
      const key = card.dataset.package;
      const priceDiv = card.querySelector('.text-3xl.font-extrabold');
      if (!key || !priceDiv) return;
      priceDiv.innerHTML = priceHTML(key);
    });
  }

  function initSelectOptions() {
    if (!packageSelect) return;
    const map = {
      mini:  labelForSelect('mini'),
      still: labelForSelect('still')
    };
    Array.from(packageSelect.options).forEach(opt => {
      const txt = (opt.textContent || '').toLowerCase();
      if (txt.includes('mini'))  opt.textContent  = map.mini;
      if (txt.includes('still')) opt.textContent  = map.still;
      // the disabled "coming soon" options are left as-is
    });
  }

  function toggleBanner() {
    if (!banner) return;
    if (!PROMO_ACTIVE) banner.remove();
  }

  function selectPackage(key, cardEl) {
    cards.forEach(c => {
      c.classList.remove("ring-2","ring-emerald-400","border-emerald-400");
      c.setAttribute("aria-pressed", "false");
    });
    cardEl.classList.add("ring-2","ring-emerald-400","border-emerald-400");
    cardEl.setAttribute("aria-pressed", "true");

    const d = detailsData[key];
    const bullets = d.bullets.map(li => `<li>${li}</li>`).join("");
    panel.innerHTML = `
      <h3 class="text-2xl font-bold mb-2">${d.name}</h3>
      ${priceHTML(key)}
      <ul class="list-disc pl-6 space-y-2 text-gray-300 mt-4">${bullets}</ul>
      <div class="mt-4 text-sm text-gray-400">${d.blurb}</div>
      <a href="#book"
         class="inline-flex mt-6 items-center justify-center rounded-full px-6 py-3 font-bold
                text-white bg-white/10 backdrop-blur border border-white/20
                hover:bg-emerald-600/20 hover:border-emerald-500/50 transition">
        Book ${d.name}
      </a>`;
    panel.classList.remove("hidden");

    if (packageSelect) {
      const label = key === 'mini' ? 'mini' : 'still';
      const match = Array.from(packageSelect.options).find(o =>
        o.textContent.toLowerCase().includes(label) && !o.disabled
      );
      if (match) {
        packageSelect.value = match.value;
        packageSelect.dispatchEvent(new Event('change'));
      }
    }
  }

  // Countdown
  const PROMO_END = new Date(PROMO_END_ISO);
  const PROMO_TIMER = { id: null };
  function formatRemaining(ms) {
    if (ms <= 0) return "Offer ended";
    const s = Math.floor(ms/1000), d = Math.floor(s/86400),
          h = Math.floor((s%86400)/3600), m = Math.floor((s%3600)/60), sec = s%60;
    const dStr = d > 0 ? `${d}d ` : "";
    return `Ends in ${dStr}${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(sec).padStart(2,'0')}`;
  }
  function updateCountdown() {
    if (!countdownEl) return;
    const remaining = PROMO_END.getTime() - Date.now();
    if (remaining <= 0) {
      countdownEl.textContent = "Offer ended";
      if (PROMO_TIMER.id) clearInterval(PROMO_TIMER.id);
      toggleBanner();
      initCardPrices();
      initSelectOptions();
      return;
    }
    countdownEl.textContent = formatRemaining(remaining);
  }

  // Bind card events
  cards.forEach(card => {
    card.tabIndex = 0;
    card.addEventListener("click", () => selectPackage(card.dataset.package, card));
    card.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        selectPackage(card.dataset.package, card);
      }
    });
  });

  // Init
  initCardPrices();
  initSelectOptions();
  toggleBanner();

  // Default open: Mini
  const defaultKey = 'mini';
  const defaultCard = cards.find(c => c.dataset.package === defaultKey);
  if (defaultCard) selectPackage(defaultKey, defaultCard);

  if (window.PHOTO_PRICING.promoActive && countdownEl) {
    PROMO_TIMER.id = setInterval(updateCountdown, 1000);
    updateCountdown();
  }
})();
</script>

<!-- Add-on cards <-> checkbox sync -->
<script>
(function () {
  const form = document.getElementById('booking-form');
  if (!form) return;

  const addonCards = Array.from(document.querySelectorAll('.addon-card'));
  const checkUsb   = form.querySelector('input[name="addons"][value="usb_drive"]');
  const checkCd    = form.querySelector('input[name="addons"][value="cd_dvd"]');

  const ADDON_CHECKBOX = { usb_drive: checkUsb, cd_dvd: checkCd };

  function setCardSelected(card, selected) {
    card.setAttribute('aria-pressed', selected ? 'true' : 'false');
    card.classList.toggle('ring-2', selected);
    card.classList.toggle('ring-emerald-400', selected);
    card.classList.toggle('border-emerald-400', selected);
  }

  function syncFromCheckbox(key) {
    const card = addonCards.find(c => c.dataset.addon === key);
    const cb   = ADDON_CHECKBOX[key];
    if (card && cb) setCardSelected(card, !!cb.checked);
  }

  function toggleAddon(key) {
    const cb = ADDON_CHECKBOX[key];
    if (!cb) return;
    cb.checked = !cb.checked;
    syncFromCheckbox(key);
    cb.dispatchEvent(new Event('change', { bubbles: true }));
  }

  addonCards.forEach(card => {
    const key = card.dataset.addon;
    if (!key) return;
    card.addEventListener('click', () => toggleAddon(key));
    card.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggleAddon(key);
      }
    });
  });

  [checkUsb, checkCd].forEach(cb => cb && cb.addEventListener('change', () => syncFromCheckbox(cb.value)));
  Object.keys(ADDON_CHECKBOX).forEach(syncFromCheckbox);
})();
</script>

<!-- Hero background via Dropbox -->
<script>
(function () {
  var DB_HERO = "https://www.dropbox.com/scl/fi/4pergmzlrrccsxu73puw9/hero-car.jpg?rlkey=houxno6c4dg230r4hxajiyk8j&st=p2xpzgb5&dl=0";
  if (!DB_HERO) return;

  function dropboxToRaw(u) {
    try {
      var url = new URL(u);
      if (!/\.dropbox\.com$/i.test(url.hostname)) return u;
      url.hostname = "dl.dropboxusercontent.com";
      var rlkey = url.searchParams.get("rlkey");
      url.search = "";
      if (rlkey) url.searchParams.set("rlkey", rlkey);
      url.searchParams.set("raw", "1");
      return url.toString();
    } catch (e) {
      return u
        .replace("www.dropbox.com", "dl.dropboxusercontent.com")
        .replace(/[\?&]dl=0\b/, "")
        .replace(/[\?&]dl=1\b/, "")
        .replace(/[\?&]raw=1\b/, "") + (u.includes("?") ? "&raw=1" : "?raw=1");
    }
  }

  var hero = document.querySelector("div[style*='hero-car.jpg']");
  if (hero) hero.style.backgroundImage = "url('" + dropboxToRaw(DB_HERO) + "')";
})();
</script>

</body>
</html>
