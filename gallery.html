<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Automotive photography portfolio — stills, rollers, night, and detail shots shot by Cars & Collectibles in Idaho." />
  <meta name="keywords" content="Idaho car photography portfolio, Boise rollers, car photoshoot, automotive photography, Treasure Valley" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <title>Portfolio — Cars & Collectibles</title>

  <!-- Tailwind (same pipeline as your other page) -->
  <link rel="stylesheet" href="dist/tailwind.css">

  <style>
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    .fade-in-up { animation: fadeInUp 1s ease-out forwards; opacity: 0; }

    body { background-color: #0b0b0b; }
    .bg-fallback { background: linear-gradient(135deg, #0f0f0f, #1a1a1a); }

    /* Subtle hero motion */
    @keyframes heroPan {
      0%   { transform: scale(1.04) translateY(0); }
      50%  { transform: scale(1.08) translateY(-8px); }
      100% { transform: scale(1.04) translateY(0); }
    }
    .animate-hero-pan { animation: heroPan 22s ease-in-out infinite; }

    /* Title gradient (blue→green) */
    .title-gradient {
      background: linear-gradient(90deg,
        #bfdbfe 0%, #60a5fa 25%, #34d399 50%, #22c55e 75%, #a7f3d0 100%);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: titleGradientSlide 8s ease-in-out infinite;
    }
    @keyframes titleGradientSlide {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @media (prefers-reduced-motion: reduce) {
      .animate-hero-pan, .fade-in-up, .title-gradient { animation: none !important; transition: none !important; }
    }

    /* Mobile-only text color override (to match your photography page) */
    @media (max-width: 640px) {
      body { color: black !important; }
      body *:not(.title-gradient) { color: black !important; }
      input::placeholder, textarea::placeholder { color: black !important; opacity: 0.7; }
    }

    /* Simple utility styles for chips/tags in case Tailwind build isn't refreshed */
    .chip{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:9999px;border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.1);color:#fff;font-size:.875rem;font-weight:500;transition:all .2s}
    .chip:hover{background:rgba(16,185,129,.2);border-color:rgba(16,185,129,.4)}
    .chip.active{box-shadow:0 0 0 2px rgba(16,185,129,.5);border-color:rgba(16,185,129,.8)}
    .tag{display:inline-flex;align-items:center;padding:.125rem .5rem;border-radius:9999px;border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.05);font-size:.75rem;color:#e5e7eb}

    /* Coming Soon overlay */
    .coming-wrap{position:relative}
    .coming-wrap .overlay{
      position:absolute;inset:0;background:rgba(0,0,0,.55);
      display:flex;align-items:center;justify-content:center;
      backdrop-filter: blur(2px);
    }
    .badge-coming{
      display:inline-flex;align-items:center;justify-content:center;
      padding:.5rem 1rem;border-radius:9999px;
      font-weight:800;font-size:0.95rem;
      color:#a7f3d0;border:2px solid rgba(16,185,129,.55);
      background:rgba(16,185,129,.10);
    }

    /* Mobile-only: force text to black (keep the gradient title) */
    @media (max-width: 640px) {
      html { color-scheme: light; }
      body,
      body *:not(.title-gradient) { color: #000 !important; }
      a, a:visited { color: #000 !important; }
      input, textarea, select { color: #000 !important; }
      input::placeholder, textarea::placeholder { color: #000 !important; opacity: .7; }
    }
  </style>
</head>
<body class="text-white font-sans min-h-screen flex flex-col relative overflow-x-hidden bg-fallback">

  <!-- Fixed background image layer (now supports Dropbox) -->
  <div id="hero-bg"
       data-bg="images/hero-car.jpg"
       data-db-bg="https://www.dropbox.com/scl/fi/4pergmzlrrccsxu73puw9/hero-car.jpg?rlkey=houxno6c4dg230r4hxajiyk8j&st=p2xpzgb5&dl=0"
       class="pointer-events-none fixed inset-0 bg-cover bg-center opacity-60 blur-sm -z-10 animate-hero-pan"></div>

  <!-- Fixed overlays for grain/gradient -->
  <div class="pointer-events-none fixed inset-0 -z-10">
    <div class="absolute inset-0 bg-gradient-to-b from-white/24 via-white/16 to-white/10"></div>
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(0,0,0,0)_0%,rgba(0,0,0,0.04)_65%,rgba(0,0,0,0.12)_100%)]"></div>
    <div class="absolute inset-0 mix-blend-overlay" style="
         opacity:.01;
         background-image:url('data:image/svg+xml;utf8,\
         <svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2248%22 height=%2248%22>\
           <filter id=%22n%22><feTurbulence type=%22fractalNoise%22 baseFrequency=%220.8%22 numOctaves=%222%22/></filter>\
           <rect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23n)%22 opacity=%220.25%22/>\
         </svg>');
         background-size:200px 200px;"></div>
  </div>

  <main class="flex-1 w-full max-w-6xl mx-auto px-6 pt-12 text-center fade-in-up">
    <a href="photography.html" class="inline-block mb-6 text-emerald-300 hover:text-emerald-400 text-lg underline">
      ← Back to Photography
    </a>

    <!-- Hero -->
    <section class="max-w-6xl mx-auto w-full mt-8 px-6">
      <div class="bg-white/10 backdrop-blur border border-white/20 rounded-2xl shadow-xl p-6 md:p-8 text-center">
        <h1 class="text-3xl sm:text-4xl md:text-6xl font-extrabold uppercase tracking-tight md:tracking-widest leading-tight break-words mb-3">
          <span class="title-gradient">Portfolio</span>
        </h1>
        <div class="mx-auto mb-6 h-1.5 w-28 rounded-full
                    bg-gradient-to-r from-sky-500 via-emerald-500 to-green-400
                    shadow-[0_0_24px_rgba(16,185,129,0.35)]"></div>
        <p class="text-gray-300 text-base md:text-lg">Browse sets below. Click any card for full gallery and purchase options.</p>
      </div>
    </section>

    <!-- Controls -->
    <section class="max-w-6xl mx-auto w-full mt-6 px-6">
      <div class="bg-white/10 backdrop-blur border border-white/20 rounded-2xl shadow-xl p-4 md:p-6 text-left">
        <div class="flex flex-col md:flex-row gap-3 md:items-center md:justify-between">
          <div class="flex flex-wrap gap-2" id="filter-chips" aria-label="Filters">
            <button class="chip active" data-filter="all">All</button>
            <button class="chip" data-filter="still">Stills</button>
            <button class="chip" data-filter="roller">Rollers</button>
          </div>
          <div class="relative w-full md:w-80">
            <input id="search" type="search" placeholder="Search by car, make, model, location…"
                   class="w-full rounded-xl bg-white/5 border border-white/20 px-3 py-2 text-white placeholder:text-gray-400 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-400/40"/>
          </div>
        </div>
      </div>
    </section>

    <!-- Gallery Grid -->
    <section class="max-w-6xl mx-auto w-full mt-6 px-6">
      <div id="gallery-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

        <!-- REAL GALLERY: 2018 Honda Civic -->
        <a data-href="gallery/client-gallery.html" class="gallery-card group" data-tags="honda civic 2018 boise rollers still" data-type="still"
           aria-label="Open gallery: 2018 Honda Civic">
          <article class="rounded-2xl overflow-hidden bg-white/10 backdrop-blur border border-white/20 shadow-xl hover:shadow-2xl transition transform hover:-translate-y-0.5">
            <div class="aspect-[4/3] overflow-hidden relative bg-white/5 animate-pulse skeleton-wrapper">
              <!-- Prefer Dropbox if provided; falls back to local data-src -->
              <img
                data-db="https://www.dropbox.com/scl/fi/rfta3oesdimqs0fsfahl9/photo1.webp?rlkey=ukixk9t1m04442zipuup9kpv2&st=0iqrvd52&dl=0"
                data-src="gallery/client01/photo1.png"
                alt="2018 Honda Civic — Client Gallery"
                class="w-full h-full object-cover group-hover:scale-[1.03] transition-all duration-700 opacity-0"/>
              <!-- Hover Overlay -->
              <div class="absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-white/30 bg-white/10 backdrop-blur-md font-semibold text-sm text-white shadow-lg">
                  View Gallery <span class="text-emerald-300">↗</span>
                </span>
              </div>
            </div>
            <div class="p-4 text-left">
              <h3 class="text-xl font-bold">2018 Honda Civic</h3>
              <p class="text-gray-300 text-sm mt-1">Boise • Still set • Day</p>
              <div class="mt-3 flex flex-wrap gap-2">
                <span class="tag">Honda</span>
                <span class="tag">Civic</span>
                <span class="tag">2018</span>
                <span class="tag">Still</span>
                <span class="tag">Day</span>
                <span class="tag">Boise</span>
              </div>
            </div>
          </article>
        </a>
		
		<!-- REAL GALLERY: 2025 Mercedes-Benz -->
        <a data-href="gallery/2025MercedesBenzGLE53AMGJTTT.html" class="gallery-card group" data-tags="mercedes-benz GLE 53 AMG 2018 boise rollers still" data-type="still"
           aria-label="Open gallery: 2025 Mercedes-Benz GLE 53 AMG">
          <article class="rounded-2xl overflow-hidden bg-white/10 backdrop-blur border border-white/20 shadow-xl hover:shadow-2xl transition transform hover:-translate-y-0.5">
            <div class="aspect-[4/3] overflow-hidden relative bg-white/5 animate-pulse skeleton-wrapper">
              <!-- Prefer Dropbox if provided; falls back to local data-src -->
              <img
                data-db="https://www.dropbox.com/scl/fi/6cnyhopmf12gpuma4b40r/photo1.webp?rlkey=b8xxzta98veogsjkm9knzz7f0&st=92rej6bh&dl=0"
                data-src="gallery/client01/photo1.png"
                alt="2025 Mercedes-Benz GLE 53 AMG"
                class="w-full h-full object-cover group-hover:scale-[1.03] transition-all duration-700 opacity-0"/>
              <!-- Hover Overlay -->
              <div class="absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full border border-white/30 bg-white/10 backdrop-blur-md font-semibold text-sm text-white shadow-lg">
                  View Gallery <span class="text-emerald-300">↗</span>
                </span>
              </div>
            </div>
            <div class="p-4 text-left">
              <h3 class="text-xl font-bold">2025 Mercedes-Benz GLE 53 AMG</h3>
              <p class="text-gray-300 text-sm mt-1">Boise • Still set • Day</p>
              <div class="mt-3 flex flex-wrap gap-2">
                <span class="tag">Mercedes</span>
                <span class="tag">GLE 53 AMG</span>
                <span class="tag">2025</span>
                <span class="tag">Still</span>
                <span class="tag">Day</span>
                <span class="tag">Boise</span>
              </div>
            </div>
          </article>
        </a>

        <!-- COMING SOON #2 -->
        <div class="gallery-card coming-wrap opacity-80" data-tags="still corvette c7 meridian daylight" data-type="still" aria-disabled="true">
          <article class="rounded-2xl overflow-hidden bg-white/10 backdrop-blur border border-white/20 shadow-xl">
            <div class="aspect-[4/3] overflow-hidden relative bg-white/5 animate-pulse skeleton-wrapper">
              <img
                data-db="https://www.dropbox.com/scl/fi/CCCC3333/c7-stills-cover.webp?rlkey=EXAMPLEKEY&dl=0"
                data-src="images/gallery/c7-stills-cover.jpg"
                alt="2016 Corvette Stingray Z51 — Coming Soon"
                class="w-full h-full object-cover transition-opacity duration-700 opacity-0"/>
              <div class="overlay">
                <span class="badge-coming">Coming Soon</span>
              </div>
            </div>
            <div class="p-4 text-left">
              <h3 class="text-xl font-bold">2016 Corvette Stingray Z51 — Stills</h3>
              <p class="text-gray-300 text-sm mt-1">Boise • Still set • Day</p>
              <div class="mt-3 flex flex-wrap gap-2">
                <span class="tag">Chevrolet</span>
                <span class="tag">Corvette</span>
                <span class="tag">Stingray</span>
                <span class="tag">Z51</span>
                <span class="tag">Still</span>
                <span class="tag">Day</span>
                <span class="tag">Boise</span>
              </div>
            </div>
          </article>
        </div>

      </div>

      <!-- Empty state -->
      <div id="empty" class="hidden text-center text-gray-300 mt-8">
        No results. Try another filter or search term.
      </div>
    </section>
  </main>

  <footer class="mt-20 py-6 text-sm text-gray-300 text-center">© 2025 Cars & Collectibles LLC. All rights reserved.</footer>

  <!-- Filtering/Search + asset resolver -->
  <script>
    (function(){
      // --- Helpers --------------------------------------------------
      const HERE = new URL('.', window.location.href);
      const asset = (p) => new URL(String(p).replace(/^\//,''), HERE).href;

      // Dropbox share -> raw URL
      function dropboxToRaw(u) {
        if (!u) return u;
        try {
          const url = new URL(u);
          if (!/\.dropbox\.com$/i.test(url.hostname)) return u; // leave non-Dropbox alone
          url.hostname = "dl.dropboxusercontent.com";
          // preserve rlkey if present; drop transient params
          const rlkey = url.searchParams.get("rlkey");
          url.search = "";
          if (rlkey) url.searchParams.set("rlkey", rlkey);
          // force file delivery
          url.searchParams.set("raw", "1");
          return url.toString();
        } catch {
          // simple fallback
          return u
            .replace("www.dropbox.com", "dl.dropboxusercontent.com")
            .replace(/[\?&]dl=0\b/, "")
            .replace(/[\?&]dl=1\b/, "")
            .replace(/[\?&]raw=1\b/, "") + (u.includes("?") ? "&raw=1" : "?raw=1");
        }
      }

      // 1) Resolve hero background (Dropbox wins if provided)
      const hero = document.getElementById('hero-bg');
      if (hero) {
        const db = hero.getAttribute('data-db-bg');
        const local = hero.getAttribute('data-bg');
        const url = db ? dropboxToRaw(db) : (local ? asset(local) : null);
        if (url) hero.style.backgroundImage = `url('${url}')`;
      }

      // 2) Resolve all images (Dropbox first, then local)
      document.querySelectorAll('img[data-db], img[data-src]').forEach(img => {
        const db = img.getAttribute('data-db');        // Dropbox share link
        const local = img.getAttribute('data-src');    // local fallback
        const url = db ? dropboxToRaw(db) : (local ? asset(local) : null);
        
        if (url) {
          img.onload = () => {
            img.classList.remove('opacity-0');
            img.closest('.skeleton-wrapper')?.classList.remove('animate-pulse');
          };
          img.src = url;
          if (img.complete) img.onload();
        }
      });

      // 3) Resolve links with data-href (e.g., first real gallery)
      document.querySelectorAll('a[data-href]').forEach(a => {
        a.href = asset(a.dataset.href || '');
      });

      // --- Filtering/Search (unchanged) -----------------------------
      const grid   = document.getElementById('gallery-grid');
      const cards  = Array.from(grid.querySelectorAll('.gallery-card'));
      const chips  = Array.from(document.querySelectorAll('#filter-chips .chip'));
      const search = document.getElementById('search');
      const empty  = document.getElementById('empty');

      function applyFilters() {
        const activeChip = chips.find(c => c.classList.contains('active'));
        const type = activeChip ? activeChip.dataset.filter : 'all';
        const q = (search.value || '').trim().toLowerCase();
        let shown = 0;

        cards.forEach(card => {
          const matchesType = (type === 'all') || (card.dataset.type === type);
          const tags = (card.dataset.tags || '').toLowerCase();
          const matchesSearch = q === '' || tags.includes(q);
          const visible = matchesType && matchesSearch;
          card.classList.toggle('hidden', !visible);
          if (visible) shown++;
        });

        empty.classList.toggle('hidden', shown !== 0);
      }

      chips.forEach(chip => {
        chip.addEventListener('click', () => {
          chips.forEach(c => c.classList.remove('active'));
          chip.classList.add('active');
          applyFilters();
        });
      });

      search.addEventListener('input', applyFilters);
      applyFilters();
    })();
  </script>

</body>
</html>
